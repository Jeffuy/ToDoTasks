(this["webpackJsonpintroduccion-react"]=this["webpackJsonpintroduccion-react"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,o){},function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(1),c=o.n(n),a=o(3),r=o.n(a),s=(o(12),o(13),o(0)),d=function(e){var t=e.children||e.render;return Object(s.jsxs)("section",{className:"TodoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(e.searchValue),!e.loading&&!e.error&&e.searchedTodos.map(t)]})},i=(o(15),function(e){return Object(s.jsxs)("li",{className:"TodoItem",children:[Object(s.jsx)("i",{className:"Icon Icon-check fas fa-check-circle fa-2x ".concat(e.completed&&"Icon-check--active"),onClick:e.onComplete}),Object(s.jsx)("p",{className:"TodoItem-p ".concat(e.completed&&"TodoItem-p--complete"),children:e.text}),Object(s.jsx)("i",{className:"fas fa-trash-alt fa-2x Icon-delete",onClick:e.onDelete})]})}),l=(o(16),function(e){return Object(s.jsx)("button",{className:"CreateTodoButton",onClick:function(){e.setOpenModal((function(e){return!e}))},children:"+"})});o(17);function u(e){var t=e.children;return r.a.createPortal(Object(s.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}var j=o(2);o(18);function m(e){var t=e.addTodo,o=e.setOpenModal,n=c.a.useState(""),a=Object(j.a)(n,2),r=a[0],d=a[1];return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o((function(e){return!e}))},children:[Object(s.jsx)("label",{children:"Escribe tu nuevo To Do"}),Object(s.jsx)("textarea",{value:r,onChange:function(e){d(e.target.value)},placeholder:"Escribe una nueva tarea"}),Object(s.jsxs)("div",{className:"TodoForm-buttonContainer",children:[Object(s.jsx)("button",{type:"button",className:"TodoForm-button TodoForm-button-cancel",onClick:function(){o((function(e){return!e}))},children:"Cancelar"}),Object(s.jsx)("button",{className:"TodoForm-button TodoForm-button-add",type:"submit",children:"A\xf1adir"})]})]})}var h=function(e){var t=e.children,o=e.loading;return Object(s.jsx)("header",{children:c.a.Children.toArray(t).map((function(e){return c.a.cloneElement(e,{loading:o})}))})},b=(o(19),function(e){var t=e.totalTodos,o=e.completedTodos,n=e.loading;return Object(s.jsxs)("h2",{className:"TodoCounter ".concat(!!n&&"TodoCounter--loading"),children:["Has completado ",o," de ",t," TODOs"]})}),O=(o(20),function(e){var t=e.setSearchValue,o=e.searchValue,n=e.loading;return Object(s.jsx)("input",{className:"TodoSearch",placeholder:"Search your To Do",value:o,onChange:function(e){t(e.target.value)},disabled:n})});function f(){return Object(s.jsx)("p",{children:"Desesp\xe9rate, hubo un error..."})}function p(){return Object(s.jsx)("p",{children:"\xa1Crea tu primer TODO!"})}o(21);function x(){return Object(s.jsxs)("div",{className:"LoadingTodo-container",children:[Object(s.jsx)("span",{className:"LoadingTodo-completeIcon"}),Object(s.jsx)("p",{className:"LoadingTodo-text",children:"Cargando TODOs..."}),Object(s.jsx)("span",{className:"LoadingTodo-deleteIcon"})]})}var T=o(6);function g(){var e=function(e,t){var o=c.a.useState(!0),n=Object(j.a)(o,2),a=n[0],r=n[1],s=c.a.useState(!1),d=Object(j.a)(s,2),i=d[0],l=d[1],u=c.a.useState(!0),m=Object(j.a)(u,2),h=m[0],b=m[1],O=c.a.useState(t),f=Object(j.a)(O,2),p=f[0],x=f[1];return c.a.useEffect((function(){setTimeout((function(){try{var o,n=localStorage.getItem(e);n?o=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),o=t),x(o),b(!1),r(!0)}catch(i){l(i)}}),2500)}),[a]),{item:p,saveItem:function(t){try{localStorage.setItem(e,JSON.stringify(t)),x(t)}catch(i){l(i)}},loading:h,error:i,sincronizeItem:function(){b(!0),r(!1)}}}("TODOS_V1",[]),t=e.item,o=e.saveItem,n=e.sincronizeItem,a=e.loading,r=e.error,s=c.a.useState(""),d=Object(j.a)(s,2),i=d[0],l=d[1],u=c.a.useState(!1),m=Object(j.a)(u,2),h=m[0],b=m[1],O=t.filter((function(e){return!!e.completed})).length,f=t.length,p=[];p=!i.length>=1?t:t.filter((function(e){var t=e.text.toLowerCase(),o=i.toLowerCase();return t.includes(o)}));return{error:r,loading:a,totalTodos:f,completedTodos:O,searchValue:i,setSearchValue:l,searchedTodos:p,addTodo:function(e){var n=Object(T.a)(t);n.push({completed:!1,text:e}),o(n)},completeTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(T.a)(t);c[n].completed=!c[n].completed,o(c)},deleteTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(T.a)(t);c.splice(n,1),o(c)},openModal:h,setOpenModal:b,sincronizeTodos:n}}o(22);function v(e){var t=function(e){var t=c.a.useState(!1),o=Object(j.a)(t,2),n=o[0],a=o[1];return window.addEventListener("storage",(function(e){"TODOS_V1"===e.key&&a(!0)})),{show:n,toggleShow:function(){e(),a(!1)}}}(e.sincronize),o=t.show,n=t.toggleShow;return o?Object(s.jsx)("div",{className:"ChangeAlert-bg",children:Object(s.jsxs)("div",{className:"ChangeAlert-container",children:[Object(s.jsx)("p",{children:"Parece que cambiaste tus TODOs en otra pesta\xf1a o ventana del navegador."}),Object(s.jsx)("p",{children:"\xbfQuieres sincronizar tus TODOs?"}),Object(s.jsx)("button",{className:"TodoForm-button TodoForm-button--add",onClick:n,children:"Yes!"})]})}):null}var S=function(){var e=g(),t=e.error,o=e.loading,n=e.totalTodos,c=e.completedTodos,a=e.searchValue,r=e.setSearchValue,j=e.searchedTodos,T=e.addTodo,S=e.completeTodo,N=e.deleteTodo,C=e.openModal,I=e.setOpenModal,y=e.sincronizeTodos;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(h,{loading:o,children:[Object(s.jsx)(b,{totalTodos:n,completedTodos:c}),Object(s.jsx)(O,{searchValue:a,setSearchValue:r})]}),Object(s.jsx)(d,{error:t,loading:o,searchedTodos:j,totalTodos:n,searchValue:a,onError:function(){return Object(s.jsx)(f,{})},onLoading:function(){return Object(s.jsx)(x,{})},onEmptyTodos:function(){return Object(s.jsx)(p,{})},onEmptySearchResults:function(e){return Object(s.jsxs)("p",{children:["No hay resultados para ",e]})},children:function(e){return Object(s.jsx)(i,{text:e.text,completed:e.completed,onComplete:function(){return S(e.text)},onDelete:function(){return N(e.text)}},e.text)}}),!!C&&Object(s.jsx)(u,{children:Object(s.jsx)(m,{addTodo:T,setOpenModal:I})}),Object(s.jsx)(l,{setOpenModal:I}),Object(s.jsx)(v,{sincronize:y})]})};r.a.render(Object(s.jsx)(S,{}),document.getElementById("root")),document.getElementById("modal")}],[[23,1,2]]]);
//# sourceMappingURL=main.1f61c5ef.chunk.js.map